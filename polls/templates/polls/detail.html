<html>
<head>
  <link href="{{ STATIC_URL }}website_static/detail.css" rel="stylesheet" type="text/css" title="main" media="screen" />

  <script language="javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js" type="text/javascript"></script>
  <script>
  $(document).ready(function(){

    if (sessionStorage.getItem('color') != 'null') {
      $("body").css('color', sessionStorage.getItem('color'));
    }

    if (sessionStorage.getItem('background-color-color') != 'null') {
      $("body").css('background-color', sessionStorage.getItem('background-color'));
    }

    alert("" + sessionStorage.getItem('size') + "")

    if (sessionStorage.getItem('size') != 'null'){
    $("body").css('fontSize', sessionStorage.getItem('size') + "px")
  }

      //alert("" + sessionStorage.getItem('boldness') + "")

    if (sessionStorage.getItem('boldness') != 'null'){
    $("body").css('fontWeight', sessionStorage.getItem('boldness'))
  }

      //$("body").css('text-weight', sessionStorage.getItem('boldness')) 

    if (sessionStorage.getItem("remember_choice_for_{{ question.id }}") != null) {
      $("input[value="+sessionStorage.getItem('remember_choice_for_{{ question.id }}')+"]").prop("checked", true);
    };

    $("#vote").click(function(event){
      if ($("input[name='choice']:checked").val()) {
        sessionStorage.setItem("remember_choice_for_{{ question.id }}", $('input[type=radio]:checked').val());
      }
    });

    $("#small").click(function(event){
      event.preventDefault();
      $("h1").animate({"font-size":"18px"});

      $("label").animate({"font-size":"16px"});
      $("input").animate({"font-size":"16px"});
    });
  
    $("#medium").click(function(event){
      event.preventDefault();
      $("h1").animate({"font-size":"36px"});
      $("label").animate({"font-size":"24px"});
      $("input").animate({"font-size":"24px"});
      $("#vote").animate({
        "width":"75px",
    	"font-size":"24px"}
      );
    });
  
    $("#large").click(function(event){
      event.preventDefault();
      $("h1").animate({"font-size":"48px", 
        "font-color":"green"});
      $("label").animate({"font-size":"30px"});
      $("input").animate({"font-size":"30px"});
      $("#vote").animate({
        "width":"150px",
    	"font-size":"30px"}
      );
    });
  
    $("a").click(function() {
    $("a").removeClass("selected");
    $(this).addClass("selected");
    });

  });
  </script>
</head>
<body>
  <div id="controls">
    <a href="#" id="small" class="selected">A</a>
    <a href="#" id="medium">A</a>
    <a href="#" id="large">A</a>
  </div>

  <h1><font size = "{{titleSize}}">{{ question.question_text }}</font></h1>

  {% if error_message %}<p><strong>{{ error_message }}</strong></p>{% endif %}

  <form action="{% url 'polls:vote' question.id %}" method="post">
  {% csrf_token %}
  {% for choice in question.choice_set.all %}
      <input type="radio" name="choice" id="choice{{ forloop.counter }}" value="{{ choice.id }}" />
      <label for="choice{{ forloop.counter }}"><font size = "{{choiceSize}}">{{ choice.choice_text }} - <i>{{ choice.party_description }}</font></i> </label><br />
  {% endfor %}
  <input type="submit" id="vote" value="Vote" />
  </form>
  <form action="{% url 'polls:back' question.id %}" method="post">
    {% csrf_token %}
  <input type="submit" id="previous" value="Previous Race" />
  </form>
  <form action="{% url 'polls:forward' question.id %}" method="post">
    {% csrf_token %}
  <input type="submit" id="forward" value="Next Race" />
  </form>
    <form action="{% url 'polls:options' question.id %}" method="post">
    {% csrf_token %}
  <input type="submit" id="options" value="Accessibility Options" />
  </form>
</body>
</html>